---
paths:
  - "**/*.swift"
  - "Sources/**/*"
---

# macOS Human Interface Guidelines

このプロジェクトはmacOSアプリケーションです。Apple Human Interface Guidelinesに従って設計・実装してください。

## ウィンドウ設計

- ウィンドウはリサイズ・移動・最小化をサポートする
- フルスクリーンモードをサポートする
- main/key/inactive の3状態はシステム定義の外観を使用する
- カスタムウィンドウフレームやコントロールを作成しない
- ウィンドウ下部に重要な情報やアクションを配置しない（隠れやすいため）
- ウィンドウサイズに応じてレイアウトが流動的に適応する

## サイドバー設計

- サイドバーはLiquid Glassレイヤーでコンテンツの上に浮く
- `NavigationSplitView` を使用する
- サイドバーの行高さはシステム設定（小/中/大）に従う
- サイドバーの非表示/表示を可能にする（Viewメニュー + キーボードショートカット）
- ウィンドウ縮小時にサイドバーを自動折りたたみを検討する
- 階層は最大2レベルまで
- `SF Symbols` を使用してアイテムを表現する
- アクセントカラーを尊重し、固定色の指定を避ける
- 開閉コントロール（disclosure controls）で階層をグループ化する

## Split View設計

- 2〜3ペイン構成を使用する（サイドバー / コンテンツ / 詳細）
- SwiftUIの `NavigationSplitView` を使用する
- ディバイダーは1ptの細いスタイルを推奨
- 最小/最大ペインサイズを設定する
- 現在の選択を永続的にハイライトする
- 隠れたペインの復元方法を複数提供する（ツールバーボタン、メニューコマンド、キーボードショートカット）
- ペーン間のドラッグ&ドロップをサポートする

## メニューバー

- すべてのコマンドはメニューバーからアクセス可能にする
- 標準メニュー構造に従う（File, Edit, View, Window, Help）
- キーボードショートカットを提供する

## ツールバー

- ユーザーがツールバーをカスタマイズできるようにする
- 標準のツールバースタイルを使用する

## キーボード操作

- すべての主要アクションにキーボードショートカットを提供する
- 標準ショートカットに従う（Cmd+C, Cmd+V, Cmd+F など）
- キーボードのみでの操作をサポートする

## 一般原則

- 大画面を活かしてコンテンツを多く表示し、階層を浅くする
- モーダルの使用を最小限に抑える
- パーソナライゼーションをサポートする（ウィンドウ設定、色、フォント）
- 高精度入力モード（マウス/トラックパッド）を活かす
- システム提供のコンポーネントを使用し、標準の外観と動作を維持する

## SwiftUI実装

- `NavigationSplitView` を使用してサイドバー+コンテンツ+詳細の構成を実現する
- `@Observable` マクロを使用してViewModelを実装する
- `List` の `.sidebar` スタイルを使用する
- `.commands()` モディファイアでメニューコマンドを追加する
- `.keyboardShortcut()` でショートカットを設定する
